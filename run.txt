在系统终  terminator 端上查看DISPLAY
$ env | grep DISPLAY	# 获取屏幕
DISPLAY=:0

# 在VSCode的终端上设置DISPLAY
$ export DISPLAY=:0

python ToolFuncs.py

# build execute files



#安装环境
win10 
anaconda ： Anaconda3-2021.05-Windows-x86_64.exe

#然后在anaconda内部生成一个虚拟环境 名为 pyqt5
conda create - n pyqt5 python=3.8 
conda activate pyqt5
它会自动安装个 python3.8.12

(base) PS F:\test\quitaddiction> conda activate pyqt5
(pyqt5) PS F:\test\quitaddiction> python
Python 3.8.12 (default, Oct 12 2021, 03:01:40) [MSC v.1916 64 bit (AMD64)] :: Anaconda, Inc. on win32
Type "help", "copyright", "credits" or "license" for more information.
>>> exit()

在pyqt5 的环境下pip 安装 opencv-python 4.2.0.32

pip install -i https://pypi.tuna.tsinghua.edu.cn/simple opencv-python==4.2.0.32


(pyqt5) PS F:\test\quitaddiction> pip show opencv-python
Name: opencv-python
Version: 4.2.0.32
Summary: Wrapper package for OpenCV python bindings.
Home-page: https://github.com/skvark/opencv-python
Author: None
Author-email: None
License: MIT
Location: d:\software\anaconda3\envs\pyqt5\lib\site-packages
Requires: numpy
Required-by:


#安装pyqt5 之类的
pyqt                      5.9.2


Required-by: spyder, pyqt5-tools, pyqt5-plugins

#准备工作
1、安装好aconda 和pyinstaller  pyqt5之后，将pyqt5 anaconda 目录下面所有的pyqt5 源文件夹包括tools plugin的全部拷贝到软件根目录下面

# 2、将 anaconda 下面 library  bin，mkl_intel_thread.1.dll 文件拷贝到thirdpartybin 文件夹下，不一定需要了

#运行命令行
#chcp 65001 这一行试下，用pyqt5的虚拟环境之后就不用运行了

pyinstaller  -D --add-data "./ffmpeg/*;./ffmpeg/" --add-data "./White/*;./White/" --add-data "./PyQt5/*;./PyQt5/" --add-data "./pyqt5_plugins/*;./pyqt5_plugins/" --add-data "./pyqt5_tools/*;./pyqt5_tools/" -i Dragon.ico ToolFuncs.py --paths="D:/software/Anaconda3/envs/pyqt5/Lib/site-packages/cv2"--hidden-import=PyQt5.sip

pyinstaller  -D --add-data "./ffmpeg/*;./ffmpeg/" --add-data "./White/*;./White/" --add-data "./thirdpartybin/*;./thirdpartybin/" --add-data "./PyQt5/*;./PyQt5/" --add-data "./pyqt5_plugins/*;./pyqt5_plugins/" --add-data "./pyqt5_tools/*;./pyqt5_tools/" -i click.ico ToolFuncs.py --paths="D:/software/Anaconda3/envs/pyqt5/Lib/site-packages/cv2"--hidden-import=PyQt5.sip

#如果还有报错，则需要将 mkl_intel_thread.1.dll 拷贝到exe  dist目录下面